<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secure MCQ Test Portal</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f6f8; margin: 0; }
    header { background: #2c3e50; color: #fff; padding: 15px; text-align: center; }
    .container { max-width: 900px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    button { padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #2980b9; }
    .question { margin-bottom: 20px; }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; }
    .timer { font-size: 18px; color: #e74c3c; font-weight: bold; text-align: right; }
    input { padding: 8px; width: 100%; max-width: 300px; }
  </style>
</head>
<body><header>
  <h1>Secure MCQ Online Test</h1>
  <p>Authorized access only</p>
</header><!-- PASSWORD GATE --><div class="container" id="login">
  <h2>Enter Access Password</h2>
  <input type="password" id="accessPassword" placeholder="Enter password" />
  <br><br>
  <button onclick="checkAccess()">Enter</button>
  <p id="loginError" class="wrong"></p>
</div><!-- HOME --><div class="container" id="home" style="display:none;">
  <h2>Select Question Paper</h2>
  <select id="paperSelect"></select>
  <br><br>
  <input type="password" id="paperPassword" placeholder="Paper password" />
  <br><br>
  <button onclick="startTest()">Start Test</button>
  <p id="paperError" class="wrong"></p>
</div><!-- QUIZ --><div class="container" id="quiz" style="display:none;">
  <div class="timer">Time Left: <span id="time"></span></div>
  <form id="quizForm"></form>
  <button onclick="submitTest()">Submit Test</button>
</div><!-- RESULT --><div class="container" id="result" style="display:none;">
  <h2>Result</h2>
  <p id="scoreText"></p>
  <div id="answerReview"></div>
  <button onclick="location.reload()">Exit</button>
</div><script>
  /* =========================
     GLOBAL ACCESS PASSWORD
     ========================= */
  const GLOBAL_PASSWORD = "ENTER123";

  /* =========================
     PAPERS WITH PASSWORDS
     ========================= */
  const papers = {
    "Physics Test": {
      password: "PHY123",
      questions: [
        {
          question: "Unit of force?",
          options: ["Newton", "Joule", "Watt", "Pascal"],
          answer: "Newton"
        }
      ]
    },
    "Computer Basics": {
      password: "CS123",
      questions: [
        {
          question: "Which is a programming language?",
          options: ["HTML", "Python", "HTTP", "URL"],
          answer: "Python"
        }
      ]
    }
  };

  /* =========================
     TIMER SETTINGS
     ========================= */
  const totalTime = 2;
  let timeLeft, timer, questions;

  function checkAccess() {
    const pass = document.getElementById('accessPassword').value;
    if (pass === GLOBAL_PASSWORD) {
      document.getElementById('login').style.display = 'none';
      document.getElementById('home').style.display = 'block';
      loadPapers();
    } else {
      document.getElementById('loginError').innerText = 'Invalid password';
    }
  }

  function loadPapers() {
    const select = document.getElementById('paperSelect');
    select.innerHTML = '';
    Object.keys(papers).forEach(p => {
      select.innerHTML += `<option value="${p}">${p}</option>`;
    });
  }

  function startTest() {
    const paperName = paperSelect.value;
    const entered = document.getElementById('paperPassword').value;
    if (entered !== papers[paperName].password) {
      document.getElementById('paperError').innerText = 'Wrong paper password';
      return;
    }

    questions = papers[paperName].questions;
    timeLeft = totalTime * 60;
    document.getElementById('home').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    loadQuestions();
    startTimer();
  }

  function loadQuestions() {
    const form = document.getElementById('quizForm');
    form.innerHTML = '';
    questions.forEach((q, i) => {
      let html = `<div class="question"><p>${i + 1}. ${q.question}</p>`;
      q.options.forEach(opt => {
        html += `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label><br>`;
      });
      html += `</div>`;
      form.innerHTML += html;
    });
  }

  function startTimer() {
    updateTime();
    timer = setInterval(() => {
      timeLeft--;
      updateTime();
      if (timeLeft <= 0) submitTest();
    }, 1000);
  }

  function updateTime() {
    const m = Math.floor(timeLeft / 60);
    const s = timeLeft % 60;
    document.getElementById('time').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
  }

  function submitTest() {
    clearInterval(timer);
    let score = 0, review = '';
    questions.forEach((q, i) => {
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      const ans = sel ? sel.value : 'Not Answered';
      if (ans === q.answer) score++;
      review += `<p><b>Q${i + 1}:</b> ${q.question}<br>`;
      review += `Your Answer: <span class="${ans === q.answer ? 'correct' : 'wrong'}">${ans}</span><br>`;
      review += `Correct Answer: <span class="correct">${q.answer}</span></p>`;
    });
    document.getElementById('quiz').style.display = 'none';
    document.getElementById('result').style.display = 'block';
    document.getElementById('scoreText').innerHTML = `<b>Score:</b> ${score} / ${questions.length}`;
    document.getElementById('answerReview').innerHTML = review;
  }
</script></body>
</html>